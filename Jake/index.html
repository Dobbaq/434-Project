<!DOCTYPE html>
<html lang="en">

<head>
    <title>Recipes</title>
    <link href="css/main.css" rel="stylesheet" type="text/css">
</head>

<body>
    <h1 style="font-family:Inter;">Recipes</h1>
    <form id="form" role="search">
        <input type="search" id="query" name="q" placeholder="Search..." aria-label="Search through site content">
        <button class="search"><svg viewBox="0 0 1024 1024">
            <path class="path1"
                d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z">
            </path>
        </svg></button>
    </form>
    <div id="rectangle"></div>
    <div class="inventoryScroller">
        <table>
            <tr>
                <td>
                    <label>Inventory:</label>
                </td>
                <td>
                    <select id="rec_mode" multiple = "multiple" size="3">
                    </select>
                </td>
            </tr>
        </table>
        <script>
            var myobject = {
                ValueA: 'Mozzerela',
                ValueB: 'Tomato Sauce',
                ValueC: 'Dough',
                ValueD: 'Banana'
            };
            var selectBox = document.getElementById("rec_mode");
            for (index in myobject) {
                selectBox.options[selectBox.options.length] = new Option(myobject[index], index);
            }
        </script>
    </div>
    <button onclick="myFunction()">Generate Recipes</button>
    <p id="demo"></p>
    <script>
        function myFunction() {
            var recipes = {
                Pizza: ['ValueA', 'ValueB', 'ValueC'],
                Banana: ['ValueD']
            };
            var result = []
            var options = document.getElementById('rec_mode').selectedOptions;
            var values = Array.from(options).map(({ value }) => value);
            for (v in values) {
                for (index in recipes) {
                    if (recipes[index].includes(String(values[v]))) {
                        if(!(result.includes(index))) {
                            result.push(index);
                        }     
                    }
                }
            }
            document.getElementById("demo").innerHTML = (result.join("\r\n"));
        }
    </script>
</body>

</html>