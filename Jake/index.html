<!DOCTYPE html>
<html lang="en">

<head>
    <title>Recipes</title>
    <link href="css/main.css" rel="stylesheet" type="text/css">
</head>

<body>
    <h1 style="font-family:Inter;">Recipes</h1>
    <form class="example" action="action_page.php">
        <input type="text" placeholder="Search.." name="search">
    </form>
    <div id="rectangle"></div>
    <div class="inventoryScroller">
        <table>
            <tr>
                <td>
                    <label>Inventory:</label>
                </td>
                <td>
                    <select id="rec_mode" multiple = "multiple" size="3">
                    </select>
                </td>
            </tr>
        </table>
        <script>
            var myobject = {
                ValueA: 'Mozzerela',
                ValueB: 'Tomato Sauce',
                ValueC: 'Dough',
                ValueD: 'Banana'
            };
            var selectBox = document.getElementById("rec_mode");
            for (index in myobject) {
                selectBox.options[selectBox.options.length] = new Option(myobject[index], index);
            }
        </script>
    </div>
    <button onclick="myFunction()">Generate Recipes</button>
    <p id="demo"></p>
    <script>
        function myFunction() {
            var recipes = {
                Pizza: ['ValueA', 'ValueB', 'ValueC'],
                Banana: ['ValueD']
            };
            var result = []
            var options = document.getElementById('rec_mode').selectedOptions;
            var values = Array.from(options).map(({ value }) => value);
            for (v in values) {
                for (index in recipes) {
                    if (recipes[index].includes(String(values[v]))) {
                        if(!(result.includes(index))) {
                            result.push(index);
                        }     
                    }
                }
            }
            document.getElementById("demo").innerHTML = (result.join("\r\n"));
        }
    </script>
</body>

</html>