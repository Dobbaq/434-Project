<!DOCTYPE html>
<html lang="en">

<head>
    <title>Recipes</title>
    <link href="css/main.css" rel="stylesheet" type="text/css">
</head>

<body>
    <script>
        function togglePopup() {
            document.getElementById("popup-1").classList.toggle("active");
        }
    </script>
    <div class="popup" id="popup-1">
        <div class="overlay"></div>
        <div class="content">
            <div class="popupCloseButton" onclick="togglePopup()">&times;</div>
            <p1>You lack chicken! Add it to shopping list?</p1>
            <button class="popupButton" onclick="togglePopup()">Add to Shopping List</button>
        </div>
    </div>

    <button onclick="togglePopup()">click</button>

    <h1 style="font-family:Inter;">Recipes</h1>
    <script type="text/javascript">
        function recipePopUp() {
            var input = document.getElementById("search").value;
            if (input == "chicken pizza") {
                //location.href="suggestion_happy.html";                    
                togglePopup();
                return false;
            }
        }
    </script>
    <div>
        <form id="form" action="" onsubmit="return recipePopUp()">
            <input type="text" id="search" placeholder="Search" value="">
            <button class="search"><svg viewBox="0 0 1024 1024">
                    <path class="path1"
                        d="M848.471 928l-263.059-263.059c-48.941 36.706-110.118 55.059-177.412 55.059-171.294 0-312-140.706-312-312s140.706-312 312-312c171.294 0 312 140.706 312 312 0 67.294-24.471 128.471-55.059 177.412l263.059 263.059-79.529 79.529zM189.623 408.078c0 121.364 97.091 218.455 218.455 218.455s218.455-97.091 218.455-218.455c0-121.364-103.159-218.455-218.455-218.455-121.364 0-218.455 97.091-218.455 218.455z">
                    </path>
                </svg></button>
        </form>
    </div>
    <div id="rectangle"></div>
    <div class="inventoryScroller">
        <table>
            <tr>
                <td>
                    <label>Inventory:</label>
                </td>
                <td>
                    <select id="rec_mode" multiple="multiple" size="3">
                    </select>
                </td>
            </tr>
        </table>
        <script>
            var myobject = {
                ValueA: 'Mozzerela',
                ValueB: 'Tomato Sauce',
                ValueC: 'Dough',
                ValueD: 'Banana'
            };
            var selectBox = document.getElementById("rec_mode");
            for (index in myobject) {
                selectBox.options[selectBox.options.length] = new Option(myobject[index], index);
            }
        </script>
    </div>
    <button onclick="myFunction()">Generate Recipes</button>
    <p id="demo"></p>
    <script>
        function myFunction() {
            var recipes = {
                Pizza: ['ValueA', 'ValueB', 'ValueC'],
                Banana: ['ValueD']
            };
            var result = []
            var options = document.getElementById('rec_mode').selectedOptions;
            var values = Array.from(options).map(({ value }) => value);
            for (v in values) {
                for (index in recipes) {
                    if (recipes[index].includes(String(values[v]))) {
                        if (!(result.includes(index))) {
                            result.push(index);
                        }
                    }
                }
            }
            document.getElementById("demo").innerHTML = (result.join("\r\n"));
        }
    </script>
    <div class="topnav">
        <a href="#home"><img src=images\icons8-home-24.png></a>
        <a href="#inventory"><img src=images\icons8-fridge-24.png></a>
        <a class="active" href="#recipe gen"><img src=images\icons8-chef-hat-30.png></a>
        <a href="#shopping list"><img src=images\icons8-shopping-cart-32.png></a>
    </div>
</body>

</html>
