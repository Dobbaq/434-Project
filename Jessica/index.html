<!DOCTYPE html>
<html lang="en">
    
<head>
    <title>Shopping List</title>
    <link href="main.css" rel="stylesheet" type="text/css">
    
</head>


<body>
    <div class = "content"> 
    <h1 style="font-family:Inter; font-size: 800%;">Shopping List</h1>
    <div id="rectangle"></div>
  

    <div class = "dropdown">
        <form>  
            <b style="font-size: 50px; font-style: italic; font-weight: bold;"> Select a category: </b>  
            <select style= "width: 500 px", id = "myList" onchange = "chooseCat()" >  
                <option style="text-align: center; font-size: x-large;"> -- Choose Category --</option>  
                <option style= "text-align: center; font-size: x-large;"> Fruits </option>  
                <option style= "text-align: center; font-size: x-large;"> Vegetables </option>
                <option style= "text-align: center; font-size: x-large;"> Dairy </option>  
                <option style= "text-align: center; font-size: x-large;"> Meats </option> 
                <option style= "text-align: center; font-size: x-large;"> Other </option>  
            </select>  

        </form>
    </div>

    <div id="nav"></div>

    <div class = "items">
        <input type="text" id="candidate"/>
       
        <button style ="background-color: rgb(195, 243, 176);" onclick="addItem()" >Add item +</button>
   
    </div>

    <div>
        <ul id = all_categories>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;">Fruits</li>
            <ul id="listFruit"> </ul>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px;">Vegetables</li>
            <ul id="listVeggies"> </ul>
        <li style = "font-weight: bold; font-size:300%;color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;">Dairy</li>
            <ul id="listDairy"> </ul>
        <li style = "font-weight: bold; font-size:300%;color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px;">Meats</li>
            <ul id="listMeat" > </ul>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;" >Other</li>
            <ul id="listOther"> </ul>
        </ul>
    </div>
    <div class = 'removal'>
    <button onclick="removeItem()">Remove item(s) -</button>
    </div>
</div>    



    <p id="demo"></p>
    <script>
        function myFunction() {
            document.getElementById("demo").innerHTML = "I dont work :)";
            var thisOptionValue = [];
            $('select[name="Inventory"]').each(function () { thisOptionValue = $(this).val(); });
        }
        /* <p id = "test option">
    The value of the option selected is:
    <span class="output"></span>
</p>
*/

        // var stringArray = ["Fruits","Dairy","Meat"];     

        function addItem(){
            if (lst_src == 'listVeggies') {
                console.log("VEGGIE")
            }
            console.log(lst_src)
            var ul = document.getElementById(lst_src);
            var candidate = document.getElementById("candidate");
            var li = document.createElement("li");
            var checkbox = document.createElement('input');
            checkbox.type = "checkbox";
            checkbox.value = candidate.value;
            checkbox.id = candidate.value;
           // console.log(candidate.value)
            checkbox.style.width = '50px';
            checkbox.name = "todo[]";
            checkbox.className = "itemCheckbox";
            li.appendChild(checkbox);

            li.style.color = 'black';
            li.style.fontSize = '40px';
            
          //  li.style.paddingTop = '2';
           // li.style.fontWeight = 'none';
           // li.setAttribute('id',candidate.value);
            li.appendChild(document.createTextNode(candidate.value));
           
            ul.appendChild(li);
        }

        function removeItem(){
            
           // var candidate = document.getElementByValue(");
         //   var item = document.getElementById(candidate.value);
        //    ul.removeChild(item); 
            const checkboxes = document.querySelectorAll('input[name="todo[]"]:checked');
            //var ul = document.getElementById(lst_src);
            //var checkedValue = null; 
            var inputElements = document.getElementsByClassName('itemCheckbox');
          //  console.log(inputElements)
            /*for(var i=0; inputElements[i]; ++i){
                if(inputElements[i].checked){
                    
                    checkedValue = document.getElementById(inputElements[i].value);
                    console.log(checkedValue)
                    console.log(inputElements[i].value)
                    ul.removeChild(checkedValue);
                    break;
                }
            } */
            let items = [];
            checkboxes.forEach((checkbox) => {
      /*     //     var candidate = document.getElementByValue(checkbox.value);
                var ul = document.getElementById(lst_src);
             //   var li = document.getElementById(lst_src);
             //   var candidate = document.getElementById(checkbox);
             //   console.log(candidate)
                var item = document.getElementById(checkbox.value);
                var cand = document.getElementById(checkbox.value.value);
              //  var cand = document.getElementById(cand.nodeValue);
                console.log(item)
               // console.log(cand)
             //   console.log(candidate)
            //items.push(checkbox.value);
         //   ul.removeChild(item); 
          //  console.log(checkbox);
            //var curr = checkbox.nodeValue
                item.removeChild(cand.nodeValue);
              //  console.log(checkbox) */
              let d = document.getElementById(lst_src);
              let d_nested = document.getElementById(checkbox.value);
              let throwawayNode = d.removeChild(d_nested);        
            });
        }

        function chooseCat() {  
            var mylist = document.getElementById("myList");  

           /* var fruit = document.getElementById("list_fruit");
            var veggie = document.getElementById("Vegetables");
            var dairy = document.getElementById("Dairy");
            var meat = document.getElementById("Meat");
            var other = document.getElementById("Other"); */
            // document.getElementById("category").value = mylist.options[mylist.selectedIndex].text;
            selectElement = 
                    document.querySelector('#myList');
            // output = document.getElementById("category").value;
            output = selectElement.value;

            if (output == 'Fruits') {
                lst_src = 'listFruit'
             //   console.log(lst_src)
               // document.getElementById('listFruit').setAttribute('id', 'lst_src')
            } else if (output == 'Vegetables') {
                lst_src = 'listVeggies'
             //   console.log(lst_src)
            } else if (output == 'Dairy') {
                lst_src = 'listDairy'
              //  console.log(lst_src)
            } else if (output == 'Meats') {
                lst_src = 'listMeat'
              //  console.log(lst_src)
            } else  {
                lst_src = 'listOther'
             //   console.log(lst_src)
            }

            // document.getElementById('lst_src').setAttribute('id', 'listFruit')
           // document.querySelector('.output').textContent = output;
            
            // document.writeln(mylist.options[mylist.selectedIndex].text)    
        }  
    </script>
    <div class="topnav">
        <a href="/Alex/homepage.html"><img src=images\images\icons8-home-24.png></a>
        <a href="/Sydney/index.html"><img src=images\images\icons8-fridge-24.png></a>
        <a href="/Jake/index.html"><img src=images\images\icons8-chef-hat-30.png></a>
        <a class="active" href="Jessica/index.html"><img src=images\images\icons8-shopping-cart-32.png></a>
    </div>

</body>

</html>