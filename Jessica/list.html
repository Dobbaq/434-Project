<!DOCTYPE html>
<html lang="en">
    
<head>
    <title>Shopping List</title>
    <link href="Jessica-css/main.css" rel="stylesheet" type="text/css">
    
</head>


<body>
    <div class = "container">

    <div class = "content"> 
    <h1 style="font-family:Inter; font-size: 800%;">Shopping List</h1>
    <div id="rectangle"></div>
        
    <div class = "dropdown">
        <form>  
            <b style="font-size: 50px; font-style: italic; font-weight: bold;"> Select a category: </b>  
            <select style= "width: 500 px", id = "myList" onchange = "chooseCat()" >  
                <option style="text-align: center; font-size: x-large;"> -- Choose Category --</option>  
                <option style= "text-align: center; font-size: x-large;"> Fruits and Vegetables </option>  
                <option style= "text-align: center; font-size: x-large;"> Meats </option>
                <option style= "text-align: center; font-size: x-large;"> Cooking Oils and Ghee </option>  
                <option style= "text-align: center; font-size: x-large;"> Bakery and Snacks</option> 
                <option style= "text-align: center; font-size: x-large;"> Dairy and Eggs </option>  
                <option style= "text-align: center; font-size: x-large;"> Beverages </option>  
            </select>  

        </form>
    </div>

    <div class = "items">
      
        <input type="text" id="candidate"/>
    
        <button style ="background-color: rgb(195, 243, 176);" onclick="addItem()" >Add item +</button>
   
    </div>

    <div>
        <ul id = all_categories>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px;">Fruits and Vegetables</li>
            <ul id="listFruitVeg"> </ul>
        <li style = "font-weight: bold; font-size:300%;color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;">Meats</li>
            <ul id="listMeat" > </ul>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px;">Cooking Oils and Ghee</li>
            <ul id="listOils"> </ul>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;">Bakery and Snacks</li>
            <ul id="listSnacks"> </ul>
        <li style = "font-weight: bold; font-size:300%;color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; ">Dairy and Eggs</li>
            <ul id="listDairy"> </ul>
        <li style = "font-weight: bold; font-size:300%; color: white; border:3px; background: rgb(72, 99, 72); border-style:solid; border-color:white; width: 780px; height: 100px;
        box-sizing: border-box; padding: 20px; opacity: 0.6;" >Beverages</li>
            <ul id="listBevs"> </ul>
        </ul>  
    </div>

    <div class = 'removal'>
    <button onclick="removeItem()">Remove Selected Item</button>
    </div>
    </div>
    </div>
   
</div>    



    <p id="demo"></p>
    <script>

        function myFunction() {
            document.getElementById("demo").innerHTML = "I dont work :)";
            var thisOptionValue = [];
            $('select[name="Inventory"]').each(function () { thisOptionValue = $(this).val(); });
        }
        // var stringArray = ["Fruits","Dairy","Meat"];     

        

        function addItem(){
            if (lst_src == 'listVeggies') {
                console.log("VEGGIE")
            }
            console.log(lst_src)
            var ul = document.getElementById(lst_src);
            var candidate = document.getElementById("candidate");
            var li = document.createElement("li");
       
            var checkbox = document.createElement('input');
            var quantReal = document.createElement("form");
            var lbl = document.createElement("label");
            var quantNum = document.createElement("input");

            checkbox.type = "checkbox";
            checkbox.value = candidate.value;
            checkbox.id = candidate.value;
           // console.log(candidate.value)
            checkbox.style.width = '50px';
            checkbox.name = "todo[]";
            checkbox.className = "itemCheckbox";

          
            quantReal.action = "/action_page.php";
            lbl.innerHTML="<label for=\"add\">Quantity: </label>"
            quantNum.type = "number";
            quantNum.id = "quantity";
            quantNum.name = "quantity";
            quantNum.min = "0";
            quantNum.max = "100";
            quantNum.step = "1";
            quantNum.value = "1";
            quantNum.style.scale = "2";

            quantReal.appendChild(lbl);
            quantReal.appendChild(quantNum);
            quantReal.style.display = "inline-block";
            quantReal.style.float = "right";
            quantReal.style.paddingRight = "100px";
            quantReal.style.color = "#E97618";
            quantReal.style.fontStyle = "italic";

            li.appendChild(checkbox);
        
            li.style.color = 'black';
            li.style.fontSize = '40px';
       
            li.appendChild(document.createTextNode(candidate.value));
          //  li.append(btnMin);
           
          //  li.append(quant);
            li.append(quantReal);
           // li.style.paddingTop = "50%";
           
            ul.appendChild(li);
            

    
        }

        function removeItem(){
            
            const checkboxes = document.querySelectorAll('input[name="todo[]"]:checked');
            //var ul = document.getElementById(lst_src);
            //var checkedValue = null; 
            var inputElements = document.getElementsByClassName('itemCheckbox');
            let items = [];
            checkboxes.forEach((checkbox) => {

              let d = document.getElementById(lst_src);
             // console.log(d)
             
              d.removeChild(checkbox.parentNode)
            //  let d_nested = document.getElementById(checkbox.value);
            //  let throwawayNode = d.removeChild(d_nested);        
            });
        }

        function chooseCat() {  
            var mylist = document.getElementById("myList");  

            selectElement = 
                    document.querySelector('#myList');
            // output = document.getElementById("category").value;
            output = selectElement.value;

            if (output == 'Fruits and Vegetables') {
                lst_src = 'listFruitVeg'
             //   console.log(lst_src)
               // document.getElementById('listFruit').setAttribute('id', 'lst_src')
            } else if (output == 'Cooking Oils and Ghee') {
                lst_src = 'listOils'
             //   console.log(lst_src)
            } else if (output == 'Dairy and Eggs') {
                lst_src = 'listDairy'
              //  console.log(lst_src)
            } else if (output == 'Meats') {
                lst_src = 'listMeat'
              //  console.log(lst_src)
            } else if (output == 'Bakery and Snacks') {
                lst_src = 'listSnacks'
              //  console.log(lst_src)
            } else  {
                lst_src = 'listBevs'
             //   console.log(lst_src)
            }

            // document.getElementById('lst_src').setAttribute('id', 'listFruit')
           // document.querySelector('.output').textContent = output;
            
            // document.writeln(mylist.options[mylist.selectedIndex].text)    
        }  
    </script>


    <div class="topnav">
        <a href="/Alex/homepage.html"><img src=images\images\icons8-home-24.png></a>
        <a href="/Sydney/index.html"><img src=images\images\icons8-fridge-24.png></a>
        <a href="/Jake/index.html"><img src=images\images\icons8-chef-hat-30.png></a>
        <a class="active" href="Jessica/index.html"><img src=images\images\icons8-shopping-cart-32.png></a>
    </div>

</body>

</html>